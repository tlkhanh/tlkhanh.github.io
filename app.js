const $=document.querySelector.bind(document);const $$=document.querySelectorAll.bind(document);const container=$(".container");let idx=0;for(let i=0;i<3;i++){for(let j=0;j<3;j++){++idx;let div=document.createElement("div");let overlay=document.createElement("div");div.className="col";overlay.className="overlay";let pic=document.createElement("img");pic.setAttribute("src",`./images/${idx}.jpg`);pic.className="pic";div.appendChild(pic);div.appendChild(overlay);div.addEventListener("dragstart",dragStart);div.addEventListener("dragend",dragEnd);div.addEventListener("dragover",dragOver);container.appendChild(div)}}
let fromSrc;let toSrc;let fromElement;let toElement;function dragStart(e){fromElement=e.target;fromSrc=e.target.src;this.style.opacity=0.2}
function dragEnd(e){fromElement.setAttribute("src",toSrc);toElement.setAttribute("src",fromSrc);this.style.opacity=1;resetOverlay()}
function dragOver(e){resetOverlay();toElement=e.target.parentElement.querySelector("img");toSrc=toElement.src;let overlay=e.target.parentElement.querySelector(".overlay");overlay.style.background="#00bcd461";overlay.style.zIndex=9}
function resetOverlay(){$$(".overlay").forEach((item)=>{item.style.background="";item.style.zIndex=-1})}